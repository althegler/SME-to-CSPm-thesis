%!TEX root = ../main.tex
In this chapter, I will discuss the usability of TAPS and how the clocked version increases the set of verifiable problems. I will also discuss how TAPS currently only allows translation of pure SMEIL networks, and how TAPS can be extended for co-simulation. Lastly, I will discuss the advantages and limitations of the FDR4 tool.
\section{Usability of TAPS}
TAPS have proven to be a capable tool for automatic translation from SMEIL to \cspm{}. It is still in early stages of development and more examples must be developed and verified, in order to demonstrate how it handles more aspects of the SMEIL language.\\

To my knowledge, transpiling from a hardware description language to a specification language like CSP has not been done successfully before, and the advantages of such a system are many. When using TAPS, it is not necessary to develop a test bench for the system, and it is not necessary to develop the specification model separately from the hardware model. This means that the workflow from developing the hardware model to verifying it, has been simplified dramatically with TAPS. I believe that being able to perform verification with no extra development steps will increase the attractiveness of SME for hardware development and further its advantage over traditional HDLs.\\

There are limitations to TAPS and it is still possible for failures to happen with systems verified with TAPS. The bottlenecks of the verification lie both in the observed values as well as in the number of verified clock cycles.
The values verified in FDR4 are based on the observed values from the simulation, so if the SMEIL simulation does not represent all possible values, the verification will be incomplete.
It is difficult to find a balance between how long to simulate the SMEIL network and how critical failures can be. In some systems it will not be possible to know when all corner cases have been found in the simulation, however, FDR4 might provide insight into some corner cases missing in the simulation.\\

In the clocked version of TAPS, additional information must be provided to the system. The user must define the number of clock cycles to verify, which bring more uncertainty to the verification. If the user chooses too few clock cycles to verify, potential failures might not be caught by FDR4. The number of clock cycles to verify is a balance between the input range for the system, the time requirement of the verification, as well as the complexity of the system.
The user must ultimately determine the balance between verification and verification time, based on the program at hand. \\

The reason that it is possible to create the relatively simple translations from SMEIL to \cspm{}, lies in the fact that SME is defined from the CSP model and therefore, as previously mentioned, all SME models will have an equivalent CSP model. Having the same basis on both sides of the translation results in a much smoother translation.
\section{Clocked or Unclocked \cspm{} Systems}
The initial idea for the design of TAPS was to build a system which did not have to enforce a global synchronous clock structure, since it would increase the complexity drastically. As the implementation of the initial version of TAPS progressed, it was clear that the design was too simple. The set of verifiable problems in the initial version of TAPS are too small to have an actual impact.
The clocked version of TAPS is still able to verify the set of problems verifiable with the initial version of TAPS. By only verifying one clock cycle, the results are the same as for the unclocked version of TAPS.
It is, of course, an advantage that the new design only adds to the set of verifiable problems, and doesn't reduce it.\\

It is a huge advantage that the clocked version of TAPS is able to reuse such a large part of the initial design. It was possible to extend the initial version of TAPS instead of rewriting the entire system, which also made it feasible to design within the timeframe of this thesis.
It is also clear that the set of verifiable problems with the clocked TAPS system are far bigger than the initial version of TAPS, so there is no doubt that this extension has been an advantage, in spite of the increase in complexity.
The clocked \cspm{} network provides comparability with the original SMEIL network, which I believe is a huge advantage for the further development of TAPS. When developing and testing new features of TAPS, it is a big advantage to be able to compare the behavior of the SMEIL simulation to that of the FDR4 verification. \\

From the experiments presented previously, it is clear that the clocked structure performs a lot better than the unclocked system, which increases the usability of TAPS. It is, of course, necessary to perform further experiments to see if the compression is possible because of the general clocked structure of the network, or because of the structure of that specific clocked network.
The implementation of the clocked version of TAPS is still in progress, and there are bound to be challenges to the translation structures, which will require some ingenuity to ensure proper code generation.
\section{From Pure SMEIL to Co-Simulation}
Co-simulation is a major feature of SMEIL and yet I only focused on pure SMEIL support in this thesis. The reason for this decision was to have a simple base to start from, to ensure the accuracy of the translations.
TAPS should definitely be extended to support translation of co-simulated networks. TAPS will not have any real value to the industry or academia until this happens, because pure SMEIL does not allow for a lot of functionality.
However, I do believe that the extension to support co-simulated programs is possible.\\

The external communication between SMEIL and another SME implementation can be represented in trace files, generated from the simulation. TAPS can use these data as the observed values for the translation. The external channels are defined with the keyword \texttt{exposed}, so TAPS can recognise these, and read the data directly from the corresponding trace file. This way, TAPS would be able to generate a channel range similar to the internal observed values.
It will, of course, be a challenge to handle the data and communication that spans across the SME implementations in co-simulation. However, since it is very precisely defined which buses communicate across the two implementations, and the data communicated can be saved in trace files, it should be possible to implement.\\

Focusing first on pure SMEIL programs have definitely led to a more manageable set of problems, but extending this to co-simulated problems seems like the perfect next step.

\section{Verification with FDR4}
There is no doubt that there lies a huge advantage in the possibility of hardware verification. Failures in critical systems can be disastrous and testing simply does not provide the security needed for these types of systems. FDR4 is a solid system and the addition of the ProBE visualiser within FDR4 is a huge advantage to provide an understanding of the network, but FDR4 does have its limitations. Even though it is relatively simple to verify a network in FDR4, the counterexamples can be challenging to understand, depending on the network. Understanding the different aspects and functionality of FDR4, requires the user to know a substantial amount about the structures of CSP. This means that the requirement of understanding CSP is not entirely obsolete when using TAPS. The developer does not need to model the specification manually, but verifying it requires some CSP knowledge. The need to have a basic knowledge of CSP occurs for example in the debug viewer. Here, a process that terminates successfully ends the trace with the symbol $\tick$. Processes that deadlocks or behaves as the \texttt{STOP} process are defined with the symbol $\nullset$. These two symbols are standard syntax in CSP, but not for \cspm{}. This means that if the user does not have any knowledge in CSP, it can be difficult to understand the debug viewer since it uses different symbols than used in the \cspm{} program. Therefore the user must have a basic knowledge of CSP to utilise all the different possibilities of FDR4. \\

With FDR4, as with every other model checking system, the size of the state space is a bottleneck that can hinder the verification of larger problems. FDR4 performs state space compression and it also provides several compression algorithm functions to apply directly within the \cspm{} network.
However, it is essential that the verification time is manageable, and for networks like the unclocked seven segment display network, this is not the case. As it is clear from the results in Chapter \ref{chap:exp}, a network can quickly grow to a point where verification is infeasible due to time constraints. This is, however, a general problem with model checking and it is an active research area that is continuing to improve.