%!TEX root = ../main.tex
In this chapter, I will discuss the usability of TAPS and how the clocked version increases the set of verifiable problems. I will also discuss how TAPS currently only allows translation of pure SMEIL networks and how TAPS can be extended for co-simulation. Lastly, I will discuss the FDR4 tool with its advantages and limitations.
\section{Usability of TAPS}
TAPS have proven to be a great tool for automatic translation from SMEIL to \cspm{}. It is still in early development and more examples must be developed and verified, in order to handle more corner cases of the SMEIL grammar. In spite of this, it presents the advantages gained from automatic translation from SMEIL to \cspm{}. To my knowledge, transpiling from a hardware description language to a specification language like CSP have not been done successfully before and the advantages of such a system are many. When using TAPS, it is not necessary to develop a test bench for the system and it is not necessary to develop the specification separately from the hardware model. This means that the workflow from developing the hardware model to verifying it has been simplified dramatically with TAPS. I believe that being able to perform verification with no extra development steps will increase the usage of hardware description languages. \\

There are limitations to TAPS and it is possible for failures to happen with systems verified with TAPS. The bottlenecks of the verification lie both in the simulation values as well as in the number of verified clock cycles. The values verified in FDR4 is based on the observed values from the simulation and so if the SMEIL simulation is not representing all possible values, the verification will not be able to verify these. It is difficult to find a balance between how long to simulate the SMEIL network and how critical failures can be. In some systems it will not be possible to know when all corner cases have been found in the simulation, however, FDR4 might provide insight into some corner cases missing in the simulation.
The clocked version of TAPS is more complex and the user must provide additional information in the number of clock cycles to verify, which provides more uncertainty to the verification. If the user does not choose to verify enough clock cycles potential failures might not be caught by FDR4. The number of clock cycles to verify is a balance between the input range for the system, the time requirement of the verification as well as the complexity of the system.
The answer to this dilemma will be different in all cases and it will ultimately be up to the user to choose. \\

The reason it is possible to create the relatively simple translations from SMEIl to \cspm{} lies in the fact that SME is defined from the CSP language and therefore, as previously mentioned, all SME models will have an equivalent CSP model. Having the same basis on both sides of the translation results in a much smoother translation.

\section{Clocked or Unclocked \cspm{} Systems}
The initial idea of the design of TAPS was to build a system which did not have to enforce a global synchronous clock structure since it would increase the complexity drastically. As the implementation of the initial version of TAPS progressed it was clear that the design was too simple. The set of verifiable problems in the initial version of TAPS are too small to have an actual impact.
The clocked version of TAPS is still able to verify the set of problems verifiable with the initial version of TAPS. By only verifying one clock cycle, the results are the same as for the unclocked version of TAPS. It is, of course, an advantage that the new design only increased the set of verifiable problems. \\

It is a huge advantage that the clocked TAPS system is able to reuse such a large part of the initial design. It was possible to extend the initial version of TAPS instead of rewriting the entire system, which also made it feasible to design within the timeframe of this thesis.
It is also clear that the set of verifiable problems with the clocked TAPS system are far bigger than the initial version of TAPS and so there exists no doubt that this extension has been an advantage in spite of the increase in complexity.
The clocked \cspm{} network provide a better comparability with the original SMEIL network, which I believe is a huge advantage for the further development of TAPS. When developing and testing new features of TAPS, it is a big advantage to be able to compare the behavior of the SMEIL simulation to that of the FDR4 verification. \\

% TODO: Change if I cant have the clocked experiment in the report
From the experiments presented above, it is clear that the clocked structure performs a lot better than the unclocked system which increases the usability of TAPS. It is, of course, necessary to perform further experiments to see if the compression is possible because of the general clocked structure of the network or because of the structure of that specific clocked network.
The implementation of the clocked version of TAPS is still in progress and if there are challenges to the translation structures which will require some ingenuity to ensure proper code generation. However, the advantages of having a larger set of verifiable problems are without a doubt worth the increased complexity.
\section{From Pure SMEIL to Co-Simulation}
Co-simulation is a big feature of SMEIL and yet I only focused on pure SMEIL support in this thesis. The reason behind only working with pure SMEIL was to have a simple base to start with so that I could ensure the accuracy of the translations. Since pure SMEIL does not allow for a lot of functionality, the pure SMEIL examples quickly become small enough for easy inspection of the resulting \cspm{} program.
The translation and the FDR4 traces quickly become too complex to understand exactly what is going on in the network and why. Because of this, I believe that focusing only on pure SMEIL was the correct approach.\\

In the current version of TAPS, it should be possible to translate the SMEIL part of a co-simulated network. Input from the exposed buses in a co-simulated program can be simulated, so it is similar to a pure SMEIL program. The difference is that the input is from the co-simulation.\\

TAPS should definitely be extended to also include the entire co-simulated networks. TAPS will not have any real value to the industry or academia before this happens. However, I do believe that the extension to support co-simulated programs is possible. A huge benefit lies in the fact that the SME model is a general model which spans all the different SME implementations. TAPS translate each process into read, compute, and write sections. These will always fit the SME model, no matter which language TAPS translate from.
There will, of course, be a lot of challenges in handling the data and communication that spans across the SME implementations in co-simulation, and even more so, creating the general network in \cspm{} will also be a great challenge. However, since it is very precisely defined which buses communicate across the two implementations, it might help with generating the \cspm{} network in a co-simulated environment.\\

Focusing on pure SMEIL programs have definitely led to a more manageable set of problems and extending this to co-simulated problems seems like the perfect next step.

\section{Verification FDR4}
There is no doubt that there lies a huge advantage in the possibility of hardware verification. Failures in critical systems can be disastrous and testing simply does not provide the security needed for these types of systems. FDR4 is a solid system and the addition of the ProBE visualiser within FDR4 is a huge advantage to provide an understanding of the network but FDR4 does have its limitations. Even though it is relatively simple to verify a network in FDR4, the counterexamples can be challenging to understand, depending on the network. Understanding the different aspects and functionality of FDR4 require the user to know a substantial amount about the structures of CSP. This means that the requirement of understanding CSP is not entirely obsolete when using TAPS. The developer does not need to model the specification model manually, but to verify it, requires some CSP knowledge. The need to have a basic knowledge of CSP occurs for example in the debug viewer. Here, a process that terminates successfully ends the trace with the symbol $\tick$. Processes that deadlocks or behaves as the \texttt{STOP} process are defined with the symbol $\nullset$. These two symbols are standard syntax in CSP, but not for \cspm{}. This means that if the user does not have any knowledge in CSP it can be difficult to understand the debug viewer since it uses different symbols than used in the verified \cspm{} program. Therefore the user must have a basic knowledge of CSP to utilise all the different possibilities of FDR4. \\

% TODO: Change if I cannot have clocked experiement in report
With FDR4 as with every other model checking, the size of the state space is a bottleneck that can hinder the verification of larger problems. FDR4 does perform state space compression and it also provides several compression algorithm functions to apply directly within the \cspm{} network.
However, it is essential that the verification time is manageable and for networks like the unclocked seven segments display network, this is not the case. As it is clear from the results in Chapter \ref{chap:exp}, a network can quickly grow in verification time to an unfeasible size. This is, however, a general problem with model checking and it is an active research area that keeps improving.